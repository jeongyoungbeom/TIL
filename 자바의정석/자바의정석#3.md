## 생성자
인스턴스가 생성될 때 호출되는 '인스턴스 초기화 메서드'이다. 그래서 인스턴스 변수의 초기화에 주로 사용되며, 인스턴스 생성 시 실행되어야 할 작업을 위해서도 사용된다.
_인스턴스 초기화란 인스턴스변수들을 초기화 하는것을 뜻한다._

**생성자의 조건**
```
생성자의 이름은 클래스의 이름과 같아야 한다.
생성자는 리턴 값이 없다.
```

**생성자도 오버로딩이 가능하므로 하나의 클래스에 여러개의 생성자가 존재할 수 있다.**
```java
class Card {
	Card() {
    	...
    }
    
    Card(String k, int num) {
    	...
    }
    ...
    
```
**연산자 new가 인스턴스를 생성하는 것이지, 생성자가 인스턴스를 생성하는 것이 아니다.**

Card클래스의 인스턴스를 생성하는 코드를 예로 들어, 수행되는 과정을 단계별로 나누어 보면 다음과 같다.

```
Card c = new new Card();

1. 연산자 new에 의해서 메모리(heap)에 Card클래스의 인스턴스가 생성된다.
2. 생성자 Card()가 호출되어 수행된다.
3. 연산자 new의 결과로, 생성된 Card인스턴스의 주소가 반환되어 참조변수 c에 저장된다.
```

### 기본 생성자

```
클래스이름() { }
Card() { }
```
컴파일 할 때, 클래스에 생성자가 하나도 정의되지 않은 경우 컴파일러는 자동적으로 아래와 같은 내용의 기본 생성자를 추가하여 컴파일 한다.

### 매개변수가 있는 생성자

생성자도 메서드처럼 매개변수를 선언하여 호출 시 값을 넘겨받아서 인스턴스의 초기화 작업에 사용할 수 있다.

```java
class Car {
	String color;
    String gearType;
    int door;
    
    Car()
    Car(String c, String g, int d) {
    	color = c;
        gearType = g;
        door = d;
    }
}
```

### 생성자에서 다른 생성자 호출하기

같은 클래스의 멤버들 간에 서로 호출할 수 있는 것처럼 생성자 간에도 서로 호출이 가능하다.
단 두 조건을 만족시켜야 한다
```
생성자의 이름으로 클래스이름 대신 this를 사용한다.
한 생성자에서 다른 생성자를 호출할 때는 반드시 첫줄에서만 호출이 가능하다.
```
```java
class Car {
	String color;
    String gearType;
    int door;
    
    Car() {
    	this("white", "auto", 4);
    }
    Car(String color) {
    	this(color, "auto", 4);
    }
    Car(String color, String gearType, int door) {
    	this.color = color;
        this.gearType = gearType;
        this.door = door;
    }
}
```

### 생성자를 이용한 인스턴스의 복사
현재 사용하고 있는 인스턴스와 같은 상태를 갖는 인스턴스를 하나 더 만들고자 할 때 생성자를 이용할 수 있다.
두 인스턴스가 같은 상태를 갖는다는 것은 두 인스턴슨의 모든 인스턴스 변수가 동일한 값을 갖고 있다는 것을 뜻한다.

```java
class Car {
	String color;
    String gearType;
    int door;
    
    Car() {
    	this("white", "auto", 4);
    }
    Car(Car c) {
    	color = c.color;
        gearType = c.gearType;
        door = c.door;
    }
    Car(String color, String gearType, int door) {
    	this.color = color;
        this.gearType = gearType;
        this.door = door;
    }
}
```


### 인스턴스를 생성할 때는 다음의 2가지 사항을 결정해야 한다.
```
클래스 - 어떤 클래스의 인스턴스를 생성할 것인가?
생성자 - 선택한 클래스의 어떤 생성자로 인스턴스를 생성 할 것인가?
```


## 변수의 초기화

변수를 선언하고 처음으로 값을 저장하는 것을 '변수의 초기화' 라고 한다.

멤버변수는 초기화를 하지 않아도 자동적으로 변수의 자료형에 맞는 기본값으로 초기화가 이루어지므로 초기화하지 않고 사용해도 되지만, **지역변수는 사용하기 전에 반드신 초기화를 해야한다.**

### 멤버변수의 초기화 방법
```
1. 명시적 초기화
2. 생성자
3. 초기화 블럭
	-인스턴스 초기화 블럭 : 인스턴스변수를 초기화 하는데 사용
    -클래스 초기화 블럭 : 클래스변수를 초기화 하는데 사용
```


#### 명시적 초기화
변수를 선언과 동시에 초기화하는 것을 명시적 초기화라고 한다.
```java
class Car {
	int door = 4;				// 기본형 변수의 초기화
    Engine e = new Engine();	// 참조형 변수의 초기화
}
```

#### 초기화 블럭
```
클래스 초기화 블럭 : 클래스변수의 복잡한 초기화에 사용된다.
인스턴스 초기화 블럭 : 인스턴스변수의 복잡한 초기화에 사용된다.
```

초기화 블럭 내에는 메소드 내에서와 같이 조건문, 반복문, 예외처리구문 등을 자유롭게 사용할 수 있으므로, 초기화 작업이 복잡하여 명시적 초기화만으로는 부족한 경우 초기화 블럭을 사용한다.

```java
class InitBlock {
	static { 클래스 초기화 블럭입니다. }
    { 인스턴스 초기화 블럭입니다. }

```
클래스 초기화 블럭은 클래스가 메모리에 처음 로딩될 때 한번만 수행되며, 인스턴스 초기화 블럭은 생성자와 같이 인스턴스를 생성할 때 마다 수행된다.
그리고 **생성자 보다 인스턴스 초기화 블럭이 먼저 수행된다.**

인스턴스 변수의 초기화는 주로 생성자를 사용하고, 인스턴스 초기화 블럭은 모든 생성자에서 공통으로 수행돼야 하는 코드를 넣는데 사용된다.

```java
Car() {
	count++;
    serialNo = count;
    color = "White";
    gearType = "Auto";
}
Car(String color, String gearType) {
	count++;
    serialNo = count;
    this.color = color;
    this.gearType = gearType;
}
```
위와 같이 클래스의 모든 생성자에 공통으로 수행되어야 하는 문장들이 있을때 같은 인스턴스 블럭에 넣어주면 코드가 간결해진다.
```java
{
	count++;
    serialNo = count;
}
Car() {
    color = "White";
    gearType = "Auto";
}
Car(String color, String gearType) {
    this.color = color;
    this.gearType = gearType;
}
```
이처럼 코드의 중복을 제거하는 것은 코드의 신뢰성을 높여주고, 오류의 발생가능성을 줄여준다는 장점이 있다.


### 멤버변수의 초기화 시기와 순서

```
클래스변수의 초기화 시점 : 클래스가 처음 로딩될 때 단 한번 초기화된다.
인스턴스변수의 초기화 시점 : 인스턴스가 생성될 때마다 각 인스턴스별로 초기화가 이루어진다.

클래스변수의 초기화 순서 : 기본값 -> 명시적초기화 -> 클래스 초기화 블럭
인스턴스변수의 초기화 순서 : 기본값 -> 명시적초기화 -> 인스턴스 초기화 블럭 -> 생성자 
```
